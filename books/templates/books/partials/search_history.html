{% if history %}
<div class="mt-4 animate-fade-in-up">
    <div class="flex items-center justify-between mb-2 px-2">
        <h3 class="text-xs font-semibold text-white/40 uppercase tracking-wider">Соңғы іздеулер</h3>
        <button hx-post="{% url 'books:clear_search_history' %}"
                hx-confirm="Іздеу тарихын тазалау керек пе?"
                hx-target="#search-history-container"
                class="text-xs text-red-400/60 hover:text-red-400 transition-colors">
            Тазалау
        </button>
    </div>
    <div class="flex flex-wrap gap-2">
        {% for item in history %}
        <button onclick="document.querySelector('input[name=q]').value = '{{ item.query }}'; document.querySelector('input[name=q]').form.requestSubmit()"
                class="px-3 py-1.5 rounded-full bg-white/5 border border-white/5 text-sm text-white/70 hover:bg-white/10 hover:border-white/10 hover:text-white transition-all flex items-center gap-2 group">
            <svg class="w-3 h-3 text-white/30 group-hover:text-white/50" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            {{ item.query }}
        </button>
        {% endfor %}
    </div>
</div>
{% endif %}
